# Thumbnail Documentation for russfawson.com

This document provides comprehensive guidelines for creating and managing thumbnails across all gallery types on the russfawson.com website.

## Overview

The website uses a consistent pattern: full-size images are stored in their respective directories, and thumbnails are stored in a `_thumbs/` subdirectory with identical filenames. During the PHP-to-static conversion, thumbnails will be pre-generated by the designer and committed to the repository.

## Gallery Types and Specifications

### 1. Highslide Galleries (Featured, Accessories, Holsters)

**Galleries:**
- Featured Saddles Gallery (`/saddles/featured.php`)
- Accessories Gallery (`/accessories/photos.php`)
- Holsters & Scabbards Gallery (`/holsters/photos.php`)

**Thumbnail Specifications:**
- **Target Dimensions:** 100 x 100 pixels
- **Aspect Ratio:** Preserved (fits within 100x100 box)
- **Format:** JPEG (.jpg)
- **Quality:** High quality for web display

**Directory Structure:**
```
/photos/accessories/
├── [full-size-image].jpg
└── _thumbs/
    └── [full-size-image].jpg    (100x100px thumbnail)

/photos/holsters/
├── [full-size-image].jpg
└── _thumbs/
    └── [full-size-image].jpg    (100x100px thumbnail)

/photos/featured/
├── [full-size-image].jpg
└── _thumbs/
    └── [full-size-image].jpg    (100x100px thumbnail)
```

**Display Behavior:**
- Thumbnails appear in a grid with 5px margins
- Clicking opens full-size image in Highslide lightbox overlay
- CSS class: `galleryThumb` with `vertical-align: middle`

**Current Status:**
- ✅ Accessories: 54 photos, 54 thumbnails (100% coverage)
- ✅ Holsters: 42 photos, 42 thumbnails (100% coverage)
- ✅ Featured: 3 photos, 3 thumbnails (100% coverage)

---

### 2. Saddle Index Gallery

**Gallery:** Custom Saddles List (`/saddles/index.php`)

**Thumbnail Specifications:**
- **Target Dimensions:** 166 x 300 pixels
- **Aspect Ratio:** Preserved (fits within 166x300 box)
- **Format:** JPEG (.jpg)
- **Quality:** High quality for web display

**Directory Structure:**
```
/saddles/info/photos/
├── CustomSaddle-101.jpg
├── CustomSaddle-102.jpg
└── _thumbs/
    ├── CustomSaddle-101.jpg    (166x300px thumbnail)
    └── CustomSaddle-102.jpg    (166x300px thumbnail)
```

**Display Behavior:**
- 4-column grid layout
- Each cell contains thumbnail, saddle number, and saddle name
- Clicking navigates to individual saddle detail page
- Hover effect: border increases from 1px to 2px

**Current Status:**
- ✅ 84 photos, 125 thumbnails (100% coverage, some orphaned thumbnails)

---

### 3. Saddle Detail Info Pages

**Gallery:** Individual Saddle Pages (`/saddles/info/?saddlename`)

**Thumbnail Specifications:**
- **Target Dimensions:** 129 x 176 pixels (declared), displayed as 130 x 176 pixels
- **Aspect Ratio:** Preserved
- **Format:** JPEG (.jpg)
- **Quality:** High quality for web display

**Directory Structure:**
```
/saddles/info/photos/
├── RussMaverick1.jpg
├── RussMaverick2.jpg
├── RussMaverick3.jpg
├── RussMaverick4.jpg
└── _thumbs/
    ├── RussMaverick1.jpg    (129x176px thumbnail)
    ├── RussMaverick2.jpg    (129x176px thumbnail)
    ├── RussMaverick3.jpg    (129x176px thumbnail)
    └── RussMaverick4.jpg    (129x176px thumbnail)
```

**Display Behavior:**
- 4 thumbnails positioned in corners of 280x372px container
- Positions: top-left, top-right, bottom-right, bottom-left
- Hover effect: Main image swaps with thumbnail image (JavaScript)
- Hover effect: Border increases from 1px to 3px with -2px margin offset
- Clicking thumbnail swaps it with main display image

**Current Status:**
- ✅ 84 photos, 125 thumbnails (100% coverage, some orphaned thumbnails)

---

## Thumbnail Creation Guidelines

### For Designers

When creating thumbnails manually:

1. **Maintain Aspect Ratio**
   - Never stretch or distort images
   - Fit the image within the target dimensions
   - Use high-quality resampling/interpolation

2. **File Naming**
   - Thumbnail filename MUST exactly match the full-size filename
   - Case-sensitive matching
   - Example: `Saddle12-01.jpg` → `_thumbs/Saddle12-01.jpg`

3. **Directory Structure**
   - Place thumbnails in `_thumbs/` subdirectory within the same folder as full-size images
   - Maintain identical file extensions

4. **Image Quality**
   - Use JPEG format with 80-90% quality
   - Optimize for web without visible compression artifacts
   - Sharp, clear thumbnails for best user experience

### Recommended Tools

- **Adobe Photoshop:** Image → Image Size with bicubic resampling
- **Adobe Lightroom:** Export with custom dimensions
- **GIMP:** Scale Image with cubic interpolation
- **ImageMagick:** `convert -thumbnail [width]x[height] input.jpg output.jpg`
- **Node.js Sharp library:** For batch processing in build scripts

---

## Dimension Reference Table

| Gallery Type | Target Size | Display Size | Aspect Ratio | Storage Path |
|---|---|---|---|---|
| Featured, Accessories, Holsters | 100x100px | 100x100px | Preserved | `{gallery}/_thumbs/` |
| Saddle Index | 166x300px | 166x300px | Preserved | `/saddles/info/photos/_thumbs/` |
| Saddle Detail Info | 129x176px | 130x176px | Preserved | `/saddles/info/photos/_thumbs/` |

---

## Path Construction Patterns

### Pattern A: Highslide Galleries
```
Full-size:  /photos/{gallery}/{filename}.jpg
Thumbnail:  /photos/{gallery}/_thumbs/{filename}.jpg
```

**Example:**
```
Full-size:  /photos/featured/Saddle12-01.jpg
Thumbnail:  /photos/featured/_thumbs/Saddle12-01.jpg
```

### Pattern B: Saddle Info Photos
```
Full-size:  /saddles/info/photos/{filename}.jpg
Thumbnail:  /saddles/info/photos/_thumbs/{filename}.jpg
```

**Example:**
```
Full-size:  /saddles/info/photos/CustomSaddle-101.jpg
Thumbnail:  /saddles/info/photos/_thumbs/CustomSaddle-101.jpg
```

---

## Adding New Photos - Workflow

### Step 1: Add Full-Size Image
Place the full-size JPEG image in the appropriate directory:
- Featured saddles → `/photos/featured/`
- Accessories → `/photos/accessories/`
- Holsters → `/photos/holsters/`
- Saddle detail photos → `/saddles/info/photos/`

### Step 2: Create Thumbnail
Designer creates a thumbnail following specifications for that gallery type.

### Step 3: Add Thumbnail
Place the thumbnail in the corresponding `_thumbs/` subdirectory with identical filename.

### Step 4: Commit and Push
For static site (GitHub Pages workflow):
```bash
git add photos/
git add saddles/info/photos/
git commit -m "Add new photos with thumbnails"
git push origin main
```

GitHub Actions will automatically rebuild and deploy the site within 2-5 minutes.

---

## Verification Checklist

Before committing new images, verify:

- [ ] Full-size image is JPEG format
- [ ] Thumbnail is JPEG format
- [ ] Thumbnail filename exactly matches full-size filename (case-sensitive)
- [ ] Thumbnail is in correct `_thumbs/` subdirectory
- [ ] Thumbnail dimensions match specification for gallery type
- [ ] Aspect ratio is preserved (no stretching/distortion)
- [ ] Image quality is acceptable for web display
- [ ] Both files are committed to repository

---

## Current Status Summary

| Gallery Location | Full-Size Count | Thumbnail Count | Status |
|---|---|---|---|
| `/saddles/info/photos/` | 84 | 125 | ✅ Complete (41 orphaned thumbnails) |
| `/photos/accessories/` | 54 | 54 | ✅ Complete |
| `/photos/holsters/` | 42 | 42 | ✅ Complete |
| `/photos/featured/` | 3 | 3 | ✅ Complete |
| `/photos/saddles/` | 28 | 28 | ✅ Complete |

**Note:** "Orphaned thumbnails" are thumbnails without corresponding full-size images. These can be safely deleted during cleanup, or kept for historical reference.

---

## Troubleshooting

### Missing Thumbnail
**Symptom:** Image appears without thumbnail in gallery
**Solution:** Create thumbnail following specifications and place in `_thumbs/` directory

### Wrong Size Thumbnail
**Symptom:** Thumbnail appears stretched or distorted
**Solution:** Recreate thumbnail with correct target dimensions and preserved aspect ratio

### Filename Mismatch
**Symptom:** Thumbnail doesn't appear for image
**Solution:** Ensure thumbnail filename exactly matches full-size filename (check case)

### Build Script Issues
**Symptom:** Build fails or thumbnails not copied
**Solution:** Verify `_thumbs/` directory exists and contains .jpg files

---

## Legacy Information (PHP System)

The original PHP system auto-generated thumbnails on-demand using GD library:
- Detection: Checked if thumbnail exists on page load
- Creation: Generated thumbnail if missing using `imagecopyresampled()`
- Caching: Saved to `_thumbs/` directory for subsequent requests
- Force Update: `?update=gallery` query parameter triggered regeneration

**For Static Site:** All thumbnails must be pre-generated and committed to repository, as server-side PHP generation will not be available.

---

## Related Files (PHP Legacy)

Reference files for understanding original thumbnail logic:

- **`/_elements/php/gallery.php`** - Highslide galleries (100x100px)
- **`/_elements/php/saddleInfoPage.php`** - Saddle detail pages (129x176px)
- **`/_elements/php/saddle_index.php`** - Saddle index grid (166x300px)
- **`/_elements/css/main.css`** - Thumbnail styling

These files will be replaced by static HTML generation during Phase 3 of the conversion plan.

---

## Questions?

For questions about thumbnail creation or specifications, refer to:
- This documentation
- `/CONVERSION_PLAN.md` - Overall conversion strategy
- `/_elements/php/` - Original PHP logic for reference

---

**Last Updated:** 2025-12-21
**Phase:** 2.1 - Thumbnail Management (Complete)
